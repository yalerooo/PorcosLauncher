<!-- FILE: index.html -->
<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PorcosLauncher</title>
    <link rel="stylesheet" href="styles/general.css">
    <link rel="stylesheet" href="styles/settings.css">
    <link rel="stylesheet" href="styles/version-details.css">
    <link rel="stylesheet" href="styles/play-button.css">
    <link rel="stylesheet" href="styles/modal.css"> <!--NEW-->
    <link rel="stylesheet" href="styles/loading.css">
    <link rel="stylesheet" href="styles/version-edit.css"> <!--NEW-->
    <link rel="stylesheet" href="styles/instance-edit.css"> <!--NEW-->
    <link rel="stylesheet" href="styles/news.css"> <!--NEW-->
    <link rel="stylesheet" href="styles/console.css"> <!--NEW-->
    <link rel="stylesheet" href="styles/title-bar.css">
    <link rel="stylesheet" href="styles/update.css"> <!--NEW-->
    <link rel="stylesheet" href="styles/modpacks.css"> <!--NEW-->
    <link rel="stylesheet" href="styles/glassmorphic-override.css"> <!--NEW-->
    <link rel="stylesheet" href="styles/animations.css"> <!--NEW-->
</head>
<body>
    <div class="title-bar">
        <div class="title-content">
            <div class="title-logo"></div>
            <h2>PorcosLauncher</h2>
        </div>
        <div class="window-controls">
            <div class="window-control-button minimize" id="minimize-button">
                <img src="assets/window-controls/minimize.png" alt="Minimize">
            </div>
            <div class="window-control-button maximize" id="maximize-button">
                <img src="assets/window-controls/maximize.png" alt="Maximize">
            </div>
            <div class="window-control-button close" id="close-button">
                <img src="assets/window-controls/close.png" alt="Close">
            </div>
        </div>
    </div>
    <div class="container">
    <!-- Sidebar de Instancias -->
    <aside class="instances-sidebar" id="instances-sidebar">
        <div class="launcher-logo" id="launcher-logo"></div>
        <!-- Instance buttons will be generated dynamically in script.js -->
    </aside>

    <!-- Sidebar de Versiones -->
    <aside class="versions-sidebar" id="versions-sidebar">
        <!-- Version buttons will be generated dynamically in script.js -->
    </aside>

    <!-- Main Content -->
    <main class="main-content">
        <!-- Top bar section -->
        <div class="top-bar">
            <div class="version-info">
                <h1 class="app-title" id="app-title">Porco's Launcher</h1>
                <input type="text" id="version-name-input" style="display: none;">
                <span class="version-info-header" id="version-info-header"></span>
            </div>
            <div class="top-bar-icons">
                <div class="top-bar-icon" id="folder-icon" title="Open Minecraft Folder">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="20" height="20">
                        <path fill="currentColor" d="M20 6h-8l-2-2H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V8c0-1.1-.9-2-2-2zm0 12H4V6h5.17l2 2H20v10z"/>
                    </svg>
                </div>
                <div class="top-bar-icon" id="modpacks-icon" title="Modpacks">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="20" height="20" fill="currentColor">
                        <path d="M21 16.5c0 .38-.21.71-.53.88l-7.9 4.44c-.16.12-.36.18-.57.18-.21 0-.41-.06-.57-.18l-7.9-4.44A.991.991 0 0 1 3 16.5v-9c0-.38.21-.71.53-.88l7.9-4.44c.16-.12.36-.18.57-.18.21 0 .41.06.57.18l7.9 4.44c.32.17.53.5.53.88v9zM12 4.15L5 8.09v7.82l7 3.94 7-3.94V8.09l-7-3.94z"/>
                        <path d="M12 6.23l-5.52 3.09v6.35L12 18.77l5.52-3.1V9.32L12 6.23zm-1 8.48l-2.05-1.16v-2.32l2.05 1.16v2.32zm2 0v-2.32l2.05-1.16v2.32l-2.05 1.16z"/>
                    </svg>
                </div>
                <div class="top-bar-icon" id="settings-icon" title="Settings">
                  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="24" height="24" fill="currentColor"><path d="M0 0h24v24H0z" fill="none"/><path d="M19.43 12.98c.04-.32.07-.64.07-.98 0-.34-.03-.66-.07-.98l2.11-1.65c.19-.15.24-.42.12-.64l-2-3.46c-.09-.16-.26-.25-.44-.25-.06 0-.12.01-.17.03l-1.83.7c-.51-.4-1.08-.73-1.69-.93l-.38-1.84c-.03-.06-.09-.12-.16-.15-.32-.15-.69-.07-.93.2l-1.6 3.1c-.44.85-.27 1.84.34 2.42l.95.89c-.08.32-.13.67-.13 1.02 0 .35.04.7.13 1.02l-.95.89c-.61.57-.78 1.56-.34 2.42l1.6 3.1c.24.27.61.35.93.2.07-.03.13-.08.16-.15l.38-1.84c.61.2 1.18.53 1.69.93l1.83.7c.05.02.11.03.17.03.17 0 .35-.09.44-.25l2-3.46c.12-.22.07-.49-.12-.64l-2.11-1.65zM12 15.5c-1.93 0-3.5-1.57-3.5-3.5s1.57-3.5 3.5-3.5 3.5 1.57 3.5 3.5-1.57 3.5-3.5 3.5z"/></svg>
                </div>
            </div>
        </div>

        <!-- Home Section -->
        <div id="home" class="content-section active">
            <!-- News Section -->
            <div class="news-section">
                <h2>
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <path d="M19 20H5a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v1"></path>
                        <path d="M18 14v4"></path>
                        <path d="M18 18h-5"></path>
                        <path d="M7 8h6"></path>
                        <path d="M7 12h4"></path>
                    </svg>
                    News
                </h2>
                <div class="news-container" id="news-container">
                    <!-- News cards will be dynamically generated here -->
                </div>
            </div>
            
            <!-- Major Updates Section -->
            <div class="news-section major-updates">
                <h2>
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <path d="M13 2L3 14h9l-1 8 10-12h-9l1-8z"></path>
                    </svg>
                    Major updates
                </h2>
                <div id="major-updates-container">
                    <!-- Major update cards will be dynamically generated here -->
                </div>
            </div>
        </div>

        <!-- Version details section -->
        <div id="version-details" class="content-section">
            <!-- Console Container -->
            <div class="console-container" id="game-console">
                <div class="console-header">
                    <h3>Game Console</h3>
                    <div class="console-actions">
                        <button id="clear-console" title="Clear Console">
                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                <path d="M3 6h18"></path>
                                <path d="M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6"></path>
                                <path d="M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2"></path>
                            </svg>
                        </button>
                    </div>
                </div>
                <div class="console-content" id="console-content">
                    <div class="console-line info">Welcome to Porcos Launcher Console</div>
                    <div class="console-line info">Ready to launch Minecraft...</div>
                </div>
                <div class="console-pattern"></div>
            </div>
            
            <!-- Play Container (Slim version) -->
            <div class="play-container slim">
                <div class="play-content">
                    <div class="play-controls">
                        <div class="input-wrapper">
                            <input type="text" id="username" placeholder="Enter username">
                        </div>

                        <button id="launch" onclick="launch()">
                            <svg viewBox="0 0 24 24" class="play-icon">
                                <polygon points="5 3 19 12 5 21 5 3" fill="currentColor"/>
                            </svg>
                            Play
                        </button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Modpacks Section -->
        <div id="modpacks" class="content-section">
            <div class="modpacks-section">
                <div class="modpacks-header">
                    <h2>Modpacks</h2>
                </div>
                
                <div class="modpack-filter">
                    <div class="search-box">
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <circle cx="11" cy="11" r="8"></circle>
                            <line x1="21" y1="21" x2="16.65" y2="16.65"></line>
                        </svg>
                        <input type="text" id="modpack-search" placeholder="Buscar modpacks...">
                    </div>
                    
                    <span class="modpack-select-label">Filtrar por:</span>
                    <select id="modpack-filter">
                        <option value="all">Todos</option>
                        <option value="installed">Instalados</option>
                        <option value="updates">Actualizaciones disponibles</option>
                    </select>
                </div>
                
                <div id="modpacks-container" class="modpacks-grid">
                    <!-- Modpack cards will be dynamically generated here -->
                </div>
            </div>
        </div>
        
        <!-- Settings Section -->
        <div id="settings" class="content-section">
            <h2>Settings</h2>

            <div class="memory-setting">
                <label for="minMemory">Minimum Memory:</label>
                <input type="text" id="minMemory" value="2G">
            </div>

            <div class="memory-setting">
                <label for="maxMemory">Maximum Memory:</label>
                <input type="text" id="maxMemory" value="4G">
            </div>

            <div class="update-section">
                <div class="update-row">
                    <label for="minecraftURLInput">Update Minecraft:</label>
                    <div class="input-container">
                        <input type="text" id="minecraftURLInput" placeholder="Enter download URL" class="input-url">
                        <button id="updateMinecraftButton" onclick="updateMinecraft()" class="update-button">Update</button>
                    </div>
                </div>
                <div class="update-row">
                    <label for="modsURLInput">Update Mods:</label>
                    <div class="input-container">
                        <input type="text" id="modsURLInput" placeholder="Enter mods download URL" class="input-url">
                        <button id="updateModsButton" onclick="updateMods()" class="update-button">Update</button>
                    </div>
                </div>
            </div>

            <div class="color-settings-section">
                <h3>Color Settings</h3>
                
                <div class="color-setting">
                    <label for="themeSelector">Theme:</label>
                    <select id="themeSelector" class="theme-selector">
                        <option value="default">Default (Pink)</option>
                        <option value="blue">Blue</option>
                        <option value="green">Green</option>
                        <option value="purple">Purple</option>
                    </select>
                </div>
                
                <div class="color-setting">
                    <label for="primaryColor">Primary Color:</label>
                    <input type="color" id="primaryColor" class="color-picker">
                </div>

                <div class="color-setting">
                    <label for="primaryHoverColor">Primary Hover Color:</label>
                    <input type="color" id="primaryHoverColor" class="color-picker">
                </div>
                
                <div class="color-setting">
                    <label for="secondaryColor">Secondary Color:</label>
                    <input type="color" id="secondaryColor" class="color-picker">
                </div>

                <div class="color-setting">
                    <label for="secondaryHoverColor">Secondary Hover Color:</label>
                    <input type="color" id="secondaryHoverColor" class="color-picker">
                </div>

                <button id="resetColorsButton" class="reset-button">Reset to Default</button>
            </div>
            
            <h3>Actualizaciones</h3>
            <div class="color-setting">
                <label>Versión del Launcher:</label>
                <span id="launcherVersion">1.1.0</span>
            </div>
            <div class="color-setting">
                <button id="checkUpdatesButton" class="reset-button">Verificar Actualizaciones</button>
                <button id="checkJavaButton" class="reset-button">Verificar Java</button>
            </div>

            <div class="settings-buttons">
                <button id="saveSettingsButton" onclick="saveSettings()">Save Settings</button>
            </div>
        </div>

        <!-- Status Message -->
        <div id="status">Status message here</div>
    </main>

    <!-- Instance Creation Modal -->
    <div id="instanceCreateModal" class="modal">
        <div class="modal-content">
            <h2>Create New Instance</h2>
            <label for="modalCreateInstanceName">Name:</label>
            <input type="text" id="modalCreateInstanceName" placeholder="Enter instance name">
            <div class="modal-buttons">
                <button id="createInstance">Create</button>
                <button id="cancelInstanceCreate">Cancel</button>
            </div>
        </div>
    </div>
    
    <!-- Modpack Confirm Modal -->
    <div class="modal" id="modpackConfirmModal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 id="confirmModalTitle">Confirmar acción</h3>
                <button id="closeConfirmModal" class="close-modal">
                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <line x1="18" y1="6" x2="6" y2="18"></line>
                        <line x1="6" y1="6" x2="18" y2="18"></line>
                    </svg>
                </button>
            </div>
            <p id="confirmModalText">¿Estás seguro de que deseas realizar esta acción?</p>
            <div class="modal-buttons">
                <button id="confirmModalAccept" class="confirm-button">Aceptar</button>
                <button id="confirmModalCancel" class="cancel-button">Cancelar</button>
            </div>
        </div>
    </div>
    
    <!-- Update Progress Container -->
    <div class="update-progress-container" id="updateProgressContainer">
        <div class="update-progress-header">
            <h3 class="update-progress-title">Descargando actualización</h3>
            <button class="update-progress-close" id="closeUpdateProgress">
                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <line x1="18" y1="6" x2="6" y2="18"></line>
                    <line x1="6" y1="6" x2="18" y2="18"></line>
                </svg>
            </button>
        </div>
        <div class="update-progress-bar-container">
            <div class="update-progress-bar" id="updateProgressBar"></div>
        </div>
        <p class="update-progress-status" id="updateProgressStatus">Iniciando descarga...</p>
        <div class="update-progress-actions">
            <button class="update-progress-button secondary" id="cancelUpdateButton">Cancelar</button>
        </div>
    </div>

    <script src="src/newsLoader.js"></script>
    <script src="src/modpacksLoader.js"></script>
    <script src="script.js"></script>
    </div>
</body>
</html>
